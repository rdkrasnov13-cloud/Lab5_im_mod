# Многофакторная линейная регрессионная модель (ЛМФМ) для данных рождаемости (2024-2025)

---

## Цель работы и постановка задачи
Целью данной работы является построение, анализ и оценка многофакторной линейной регрессионной модели (ЛМФМ) для показателей рождаемости по регионам Российской Федерации на основе данных Росстата за 2024-2025 годы (вариант 5).

Основные задачи:

- Загрузка и предварительная обработка данных Росстата по рождаемости (`DataV5.csv`);
- Формирование обучающей выборки: выбор целевого года как отклика и предыдущих лет как факторов;
- Построение многофакторной линейной регрессионной модели методом наименьших квадратов;
- Статистическая оценка качества модели и проверка значимости факторов;
- Анализ мультиколлинеарности факторов;
- Прогнозирование значений показателя рождаемости для регионов;
- Сохранение результатов анализа в текстовый файл.

---

## Краткое описание процедуры построения и оценки ЛМФМ

### 1. Подготовка данных
- Данные загружаются из CSV-файла Росстата `DataV5.csv` с разделителем `;`.
- Каждая строка соответствует региону РФ, столбцы — показатели рождаемости по периодам.
- Последний период временного ряда используется как отклик (Y).
- Несколько предыдущих периодов используются как факторы (X).
- Наблюдения с пропущенными значениями автоматически исключаются.

### 2. Построение модели
Используется многофакторная линейная регрессия.

Метод оценки: **наименьшие квадраты (МНК)** с использованием библиотеки [Eigen](https://eigen.tuxfamily.org/).

### 3. Оценка качества модели
Рассчитываются метрики:

- R² и скорректированный R² — доля объяснённой вариации;
- F-статистика — общая значимость модели;
- RMSE — среднеквадратичная ошибка;
- MAE — средняя абсолютная ошибка;
- MAPE — средняя абсолютная процентная ошибка прогноза.

### 4. Статистический анализ факторов
- Вычисляются стандартные ошибки, t-статистики и p-value для каждого коэффициента.
- Факторы с p-value < 0.05 считаются статистически значимыми.
- Проверка мультиколлинеарности через корреляционную матрицу факторов.

### 5. Прогнозирование
На основе итоговой модели выполняется прогноз значений рождаемости для регионов РФ. Формируется топ-10 регионов с наибольшими прогнозными значениями.

---

## Демонстрация работы программы

### Входные данные

- Данные по рождаемости по регионам РФ (2024-2025).

**Формат данных:** 

Регион;Код; Период1; Период2;...;ПериодN


### Запуск программы
Программа реализована на C++ с использованием библиотеки Eigen:

- Выбор файла — ввод `"DataV5.csv"` или выбор из списка;
- Количество факторов — сколько предыдущих периодов использовать (по умолчанию 5);
- Уровень значимости — порог для статистической значимости факторов (по умолчанию 0.05);
- Интерактивный отбор факторов — анализ значимости и мультиколлинеарности;
- Получение результатов — вывод статистики и прогнозов в консоль и сохранение в файл.

### Код программы

**[Основной файл](./Code.cpp)**

## Результаты работы

![Результат работы программы](./IM_LB5_V5.PNG)



### Выходные данные

Результаты автоматически сохраняются в:

**[Файл](./regression_results_v5.txt)**

Файл содержит:

-Коэффициенты регрессии и их p-value

-Показатели качества модели (R², RMSE, MAE, MAPE)

-Список значимых факторов

-Корреляции факторов с откликом

-Матрицу корреляций между факторами

-Прогноз топ-10 регионов


## Используемые технологии

- Язык программирования: **C++**
- Линейная алгебра: **Eigen**
- Источник данных: **Росстат**
- Формат данных: **CSV**

---

## Итог

Разработанная программа реализует полный цикл многофакторного регрессионного анализа для данных по рождаемости. Модель демонстрирует высокое качество аппроксимации и может использоваться для прогнозирования демографических показателей. Программа гибко настраивается и предоставляет детальную статистику для принятия решений.
